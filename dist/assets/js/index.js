'use strict';var _createClass=function(){function a(b,c){for(var f,d=0;d<c.length;d++)f=c[d],f.enumerable=f.enumerable||!1,f.configurable=!0,'value'in f&&(f.writable=!0),Object.defineProperty(b,f.key,f)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var state={},elements={category:document.querySelectorAll('.services__link'),servicesOptionItem:'services__option',servicesOption:document.querySelectorAll('.services__options'),servicesOptions:document.querySelector('.services__options'),servicesBar:document.querySelector('.services__bar'),boxHeading:document.querySelectorAll('.box-heading'),articlesSection:document.querySelector('.articles'),articlesList:document.querySelectorAll('.articles__item')},Category=function(){function a(){_classCallCheck(this,a),this.categories=[]}return _createClass(a,[{key:'addCategory',value:function addCategory(b){var c=this;'Poka\u017C wszystko'===b?('Poka\u017C wszystko'==b||'Ukryj wszystko'==b)&&this.categories.length==elements.boxHeading.length-1?this.categories=[]:(this.categories=[],0==this.categories.length&&elements.boxHeading.forEach(function(d){'Poka\u017C wszystko'!==d.textContent&&c.categories.push(d.textContent)})):this.categories.push(b)}},{key:'deleteCategory',value:function deleteCategory(b){var c=this.categories.indexOf(b);this.categories.splice(c,1)}}]),a}();var Option=function(){function a(b){_classCallCheck(this,a),this.category=b}return _createClass(a,[{key:'createElement',value:function createElement(b){var c=document.createElement('span');c.className='services__text',c.textContent=''+b;var d=document.createElement('span');d.className='services__close';var f=document.createElement('span');return f.className='services__option  services__option--'+adjustClassName(b),f.appendChild(c),{optionItem:f,cssClassModifier:adjustClassName(b)}}}]),a}();var selectCategories=function(a,b){if(!state.categories||!b){console.log(b);var d=new Category;state.categories=d,d.addCategory(a)}else-1<state.categories.categories.indexOf(a)?state.categories.deleteCategory(a):state.categories.addCategory(a)},adjustClassName=function(a){for(var b=['\u0105','\u0119','\u0107','\u0142','\xF3','\u017A','\u017C'],c=['a','e','c','l','o','z','z'],d=a,f=0;f<d.length;f++)if(-1!==b.indexOf(d[f])){var g=b.indexOf(d[f]);d=d.replace(b[g],c[g])}var h=d.split(' ')[0].toLowerCase();return h},createElements=function(a){if(state.optionElements=[],0<a.length){elements.servicesBar.style.display='inline-block';a.forEach(function(c){var f=new Option(c),g=f.createElement(c);state.optionElements.push(g)})}else elements.servicesBar.style.display='none'},displayArticles=function(a){var b=document.querySelectorAll('.articles__categories');Array.from(b).forEach(function(c){c.parentElement.parentElement.parentElement.style.display='none'}),0===state.categories.categories.length?elements.articlesSection.style.display='none':(elements.articlesSection.style.display='block',Array.from(b).forEach(function(c){Array.from(c.children).forEach(function(d){Array.from(a).forEach(function(f){if(d.classList.contains('articles__category--'+adjustClassName(f))){var g=document.querySelectorAll('.articles__category--'+adjustClassName(f));Array.from(g).forEach(function(h){h.closest('ul li').style.display='inline-block'})}})})}))},appInit=function(a){var b=a.target.closest('.services__link').querySelector('.box-heading').textContent;selectCategories(b,state.categories),createElements(state.categories.categories),elements.servicesOptions.innerHTML='',state.optionElements.forEach(function(c){elements.servicesOptions.appendChild(c.optionItem)}),displayArticles(state.categories.categories)},init=function(){Array.from(elements.category).forEach(function(a){a.addEventListener('click',appInit)})};init();function validateForm(a){a.preventDefault();var b=document.querySelector('#contact-form input[type="submit"]'),c=document.querySelector('#contact-form input[name="name"]'),d=document.querySelector('#contact-form input[name="email"]'),f=document.querySelector('#contact-form textarea'),g=/^([A-Za-z0-9_\-\.]){1,}\@([A-Za-z0-9_\-\.]){1,}\.([A-Za-z0-9]){2,4}$/,h=g.test(d.value),j=[],k=[];c.value?(k.push(c),j.push(!0)):(k.push(c),j.push(!1)),h?(k.push(d),j.push(!0)):(k.push(d),j.push(!1)),f.value?(k.push(f),j.push(!0)):(k.push(f),j.push(!1));var l=validationMessage(j,k);if('undefined'!==l){var m=JSON.stringify({name:l[0].value,email:l[1].value,text:l[2].value}),n=new XMLHttpRequest;n.open('POST','assets/php/send.php',!0),n.setRequestHeader('Content-Type','application/json'),n.onreadystatechange=function(){200==this.status||4==this.readyState?this.responseText.includes('Success')&&(console.log('Odbieram'),document.querySelector('form').innerHTML='Dzi\u0119kuj\u0119 za wiadomo\u015B\u0107.'):console.log('Cos nie tak z kodem 200 lub 4')},n.send(m)}else console.log('Co\u015B nie tak z obiektem data, w kt\xF3rym zapisane s\u0105 dane z inputu')}function validationMessage(a,b){var c=document.createElement('p');a.forEach(function(k,l){!0==k?b[l].style.border='1px solid green':!1==k?b[l].style.border='1px solid red':console.log('Something wrong, not bool value')}),c.classList.add('message');var h=document.querySelector('#contact-form');if(document.querySelector('#contact-form .message')||h.insertAdjacentElement('beforeend',c),-1<a.indexOf(!1))c.textContent='Czerwone pola s\u0105 wymagane',c.style.border='1px solid red',c.style.color='red';else{c.textContent='Wiadomo\u015B\u0107 wys\u0142ana!',c.style.border='1px solid green',c.style.color='green';var j=document.querySelectorAll('.inputField');return j.forEach(function(k){setTimeout(function(){k.style.border='none',b[2].style.border='2px solid #222'},3500)}),b}}document.querySelector('#contact-form')&&document.querySelector('#contact-form').addEventListener('submit',validateForm);var smoothElement=document.querySelector('.info'),smoothBtn=document.querySelector('.go-to__services'),developerCategories=[].concat(_toConsumableArray(document.querySelectorAll('.developer__category .developer__link'))),categoriesToGoTo=[].concat(_toConsumableArray(document.querySelectorAll('.developer__section')));smoothElement&&smoothBtn&&smoothBtn.addEventListener('click',function(a){a.preventDefault(),smoothElement.scrollIntoView({behavior:'smooth'})});function scrollToSection(a){var b=a.target.getAttribute('href').replace('#',''),c=categoriesToGoTo.filter(function(d){return d.getAttribute('id')==b});console.log(c),goToElement(gotTo[0])}developerCategories.forEach(function(a){a.addEventListener('click',scrollToSection)});